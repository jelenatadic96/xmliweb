<app-meni-bar></app-meni-bar>
<div class="row">
	<div class="col-md-8 offset-sm-2" style="margin-top: 20px;">
		<h3>Users</h3>
		<hr>
		<div class="table-responsive">
			<div class="bootstrap-table">
				<div class="fixed-table-toolbar">
					<div class="bars pull-left">
						<div id="toolbargrid">
							<div class="form-inline" role="form">
								Â 
							</div>
						</div>
					</div>
				</div>
				<div class="toolbar clearfix">
				</div>
				<div class="fixed-table-container">
					<div class="fixed-table-header">
						<table></table>
					</div>
					<div class="fixed-table-body">
						<table id="grid" class="table table-striped table-hover" data-toolbar="#toolbargrid" data-pagination="true" data-search="true">
							<thead>
								<tr>
									<th class="text-left" style="">
										<div class="th-inner sortable">Email</div>
										<div class="fht-cell"></div>
									</th>
									<th class="text-left" style="">
										<div class="th-inner sortable">Name</div>
										<div class="fht-cell"></div>
									</th>
									<th class="text-left" style="">
										<div class="th-inner sortable">Last name</div>
										<div class="fht-cell"></div>
									</th>
								</tr>
							</thead>
							<tbody>
								<h4 *ngIf = "users?.length == 0"> There is no exsiting user </h4>
								<tr *ngFor = "let i = index; let user of users | paginate: { itemsPerPage: 10, currentPage: p }">
									<td class="text-left" style=""><a class="text-primary" (click)="viewRoles(user, viewRolesTemplate)">{{user.mejl}}</a></td>
									<td class="text-left" style="">{{user.ime}}</td>
									<td class="text-left" style="">{{user.prezime}}</td>
									<button *ngIf = "user.status == 'AKTIVAN' && user.id != loggedUser.id" class="btn btn-secondary" (click)="changeStateOfUser(user, 'BLOKIRAN')">Block</button>
									<button  *ngIf = "user.status != 'AKTIVAN'" class="btn btn-danger" (click)="changeStateOfUser(user, 'UKLONJEN')">Remove</button>
									<button *ngIf = "user.status != 'AKTIVAN'" class="btn btn-success" (click)="changeStateOfUser(user, 'AKTIVAN')">Activate</button>
								</tr>
							</tbody>
							<tfoot></tfoot>
						</table>
						<pagination-controls (pageChange)="p = $event"></pagination-controls>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>